---
title: "Contract aaamarket"
draft: true
---
Deployer: SP3QAXTB20KYS6MEGBJRE026T6WE2RD6D2WDXRJ40

SIP-009: false

SIP-010: false

Functions:
{"name":"get_ad","access":"private","args":[{"name":"index","type":"uint128"}],"outputs":{"type":{"optional":{"tuple":[{"name":"at","type":"uint128"},{"name":"expiration","type":"uint128"},{"name":"expired_flag","type":"bool"},{"name":"host_deposit","type":"uint128"},{"name":"name","type":{"buffer":{"length":48}}},{"name":"namespace","type":{"buffer":{"length":20}}},{"name":"origin_owner","type":{"optional":"principal"}},{"name":"price","type":"uint128"}]}}}}, {"name":"get_new_bid","access":"private","args":[{"name":"index","type":"uint128"}],"outputs":{"type":{"optional":{"tuple":[{"name":"name","type":{"buffer":{"length":48}}},{"name":"namespace","type":{"buffer":{"length":20}}},{"name":"price","type":"uint128"}]}}}}, {"name":"get_new_list","access":"private","args":[{"name":"index","type":"uint128"}],"outputs":{"type":{"optional":{"tuple":[{"name":"name","type":{"buffer":{"length":48}}},{"name":"namespace","type":{"buffer":{"length":20}}},{"name":"price","type":"uint128"}]}}}}, {"name":"get_new_trade","access":"private","args":[{"name":"index","type":"uint128"}],"outputs":{"type":{"optional":{"tuple":[{"name":"buyer","type":"principal"},{"name":"name","type":{"buffer":{"length":48}}},{"name":"namespace","type":{"buffer":{"length":20}}},{"name":"price","type":"uint128"},{"name":"seller","type":"principal"}]}}}}, {"name":"loop_d","access":"private","args":[{"name":"info","type":{"tuple":[{"name":"address","type":"principal"},{"name":"pos","type":"uint128"}]}}],"outputs":{"type":"bool"}}, {"name":"loop_n1","access":"private","args":[{"name":"i","type":"uint128"},{"name":"ud","type":{"tuple":[{"name":"ap","type":"uint128"},{"name":"ep","type":"uint128"},{"name":"ip","type":"uint128"},{"name":"mb","type":"uint128"},{"name":"mbp","type":"uint128"},{"name":"n","type":{"buffer":{"length":48}}},{"name":"ns","type":{"buffer":{"length":20}}},{"name":"p","type":"principal"},{"name":"pos","type":"uint128"},{"name":"up","type":"uint128"}]}}],"outputs":{"type":{"tuple":[{"name":"ap","type":"uint128"},{"name":"ep","type":"uint128"},{"name":"ip","type":"uint128"},{"name":"mb","type":"uint128"},{"name":"mbp","type":"uint128"},{"name":"n","type":{"buffer":{"length":48}}},{"name":"ns","type":{"buffer":{"length":20}}},{"name":"p","type":"principal"},{"name":"pos","type":"uint128"},{"name":"up","type":"uint128"}]}}}, {"name":"loop_n2","access":"private","args":[{"name":"i","type":"uint128"},{"name":"ud","type":{"tuple":[{"name":"n","type":{"buffer":{"length":48}}},{"name":"ns","type":{"buffer":{"length":20}}},{"name":"p","type":"principal"},{"name":"pos","type":"uint128"}]}}],"outputs":{"type":{"tuple":[{"name":"n","type":{"buffer":{"length":48}}},{"name":"ns","type":{"buffer":{"length":20}}},{"name":"p","type":"principal"},{"name":"pos","type":"uint128"}]}}}, {"name":"loop_n3","access":"private","args":[{"name":"i","type":"uint128"},{"name":"ud","type":{"tuple":[{"name":"f","type":"bool"},{"name":"n","type":{"buffer":{"length":48}}},{"name":"ns","type":{"buffer":{"length":20}}}]}}],"outputs":{"type":{"tuple":[{"name":"f","type":"bool"},{"name":"n","type":{"buffer":{"length":48}}},{"name":"ns","type":{"buffer":{"length":20}}}]}}}, {"name":"loop_n4","access":"private","args":[{"name":"i","type":"uint128"},{"name":"ud","type":{"tuple":[{"name":"n","type":{"buffer":{"length":48}}},{"name":"ns","type":{"buffer":{"length":20}}},{"name":"r","type":{"list":{"type":{"tuple":[{"name":"at","type":"uint128"},{"name":"expiration","type":"uint128"},{"name":"player","type":"principal"},{"name":"price","type":"uint128"}]},"length":12}}}]}}],"outputs":{"type":{"tuple":[{"name":"n","type":{"buffer":{"length":48}}},{"name":"ns","type":{"buffer":{"length":20}}},{"name":"r","type":{"list":{"type":{"tuple":[{"name":"at","type":"uint128"},{"name":"expiration","type":"uint128"},{"name":"player","type":"principal"},{"name":"price","type":"uint128"}]},"length":12}}}]}}}, {"name":"loop_p1","access":"private","args":[{"name":"i","type":"uint128"},{"name":"ud","type":{"tuple":[{"name":"n","type":{"buffer":{"length":48}}},{"name":"ns","type":{"buffer":{"length":20}}},{"name":"p","type":"principal"},{"name":"pos","type":"uint128"}]}}],"outputs":{"type":{"tuple":[{"name":"n","type":{"buffer":{"length":48}}},{"name":"ns","type":{"buffer":{"length":20}}},{"name":"p","type":"principal"},{"name":"pos","type":"uint128"}]}}}, {"name":"loop_p2","access":"private","args":[{"name":"i","type":"uint128"},{"name":"ud","type":{"tuple":[{"name":"ep","type":"uint128"},{"name":"ip","type":"uint128"},{"name":"n","type":{"buffer":{"length":48}}},{"name":"ns","type":{"buffer":{"length":20}}},{"name":"p","type":"principal"},{"name":"pos","type":"uint128"}]}}],"outputs":{"type":{"tuple":[{"name":"ep","type":"uint128"},{"name":"ip","type":"uint128"},{"name":"n","type":{"buffer":{"length":48}}},{"name":"ns","type":{"buffer":{"length":20}}},{"name":"p","type":"principal"},{"name":"pos","type":"uint128"}]}}}, {"name":"loop_p3","access":"private","args":[{"name":"i","type":"uint128"}],"outputs":{"type":"bool"}}, {"name":"refund_host_fee","access":"private","args":[{"name":"pos","type":"uint128"}],"outputs":{"type":"bool"}}, {"name":"update_ad","access":"private","args":[{"name":"i","type":"uint128"}],"outputs":{"type":"bool"}}, {"name":"update_ads","access":"private","args":[],"outputs":{"type":"bool"}}, {"name":"accept_bid","access":"public","args":[{"name":"namespace","type":{"buffer":{"length":20}}},{"name":"name","type":{"buffer":{"length":48}}},{"name":"bidder","type":"principal"}],"outputs":{"type":{"response":{"ok":"bool","error":"int128"}}}}, {"name":"add_ad","access":"public","args":[{"name":"namespace","type":{"buffer":{"length":20}}},{"name":"name","type":{"buffer":{"length":48}}},{"name":"pos","type":"uint128"},{"name":"price","type":"uint128"},{"name":"days","type":"uint128"},{"name":"is_host","type":"bool"},{"name":"extra_address","type":{"optional":"principal"}}],"outputs":{"type":{"response":{"ok":"bool","error":"int128"}}}}, {"name":"bid","access":"public","args":[{"name":"namespace","type":{"buffer":{"length":20}}},{"name":"name","type":{"buffer":{"length":48}}},{"name":"price","type":"uint128"},{"name":"days","type":"uint128"}],"outputs":{"type":{"response":{"ok":"bool","error":"int128"}}}}, {"name":"buy","access":"public","args":[{"name":"namespace","type":{"buffer":{"length":20}}},{"name":"name","type":{"buffer":{"length":48}}},{"name":"ad_pos","type":"uint128"}],"outputs":{"type":{"response":{"ok":"bool","error":"int128"}}}}, {"name":"cancel_bid","access":"public","args":[{"name":"namespace","type":{"buffer":{"length":20}}},{"name":"name","type":{"buffer":{"length":48}}}],"outputs":{"type":{"response":{"ok":"bool","error":"int128"}}}}, {"name":"cancel_host","access":"public","args":[{"name":"namespace","type":{"buffer":{"length":20}}},{"name":"name","type":{"buffer":{"length":48}}},{"name":"pos","type":"uint128"},{"name":"extra_address","type":{"optional":"principal"}}],"outputs":{"type":{"response":{"ok":"bool","error":"int128"}}}}, {"name":"cancel_set_name_price","access":"public","args":[{"name":"namespace","type":{"buffer":{"length":20}}},{"name":"name","type":{"buffer":{"length":48}}}],"outputs":{"type":{"response":{"ok":"bool","error":"int128"}}}}, {"name":"discard_domain","access":"public","args":[{"name":"info","type":{"tuple":[{"name":"address","type":"principal"},{"name":"pos","type":"uint128"}]}}],"outputs":{"type":{"response":{"ok":"bool","error":"int128"}}}}, {"name":"discard_domains","access":"public","args":[{"name":"pair_list","type":{"list":{"type":{"tuple":[{"name":"address","type":"principal"},{"name":"pos","type":"uint128"}]},"length":50}}}],"outputs":{"type":{"response":{"ok":{"list":{"type":{"tuple":[{"name":"address","type":"principal"},{"name":"pos","type":"uint128"}]},"length":50}},"error":"none"}}}}, {"name":"manual_update_ads","access":"public","args":[{"name":"key_list","type":{"list":{"type":"uint128","length":100}}}],"outputs":{"type":{"response":{"ok":{"list":{"type":"uint128","length":100}},"error":"none"}}}}, {"name":"set_name_price","access":"public","args":[{"name":"namespace","type":{"buffer":{"length":20}}},{"name":"name","type":{"buffer":{"length":48}}},{"name":"price","type":"uint128"}],"outputs":{"type":{"response":{"ok":"bool","error":"int128"}}}}, {"name":"update_ad_price","access":"public","args":[{"name":"price_list","type":{"list":{"type":"uint128","length":20}}}],"outputs":{"type":{"response":{"ok":"bool","error":"int128"}}}}, {"name":"update_limitations","access":"public","args":[{"name":"min_bid_days","type":"uint128"},{"name":"max_bid_days","type":"uint128"},{"name":"ad_min_days","type":"uint128"},{"name":"ad_max_days","type":"uint128"}],"outputs":{"type":{"response":{"ok":"bool","error":"int128"}}}}, {"name":"update_price","access":"public","args":[{"name":"min_price","type":"uint128"},{"name":"max_price","type":"uint128"},{"name":"fee","type":"uint128"},{"name":"ad_host_deposit","type":"uint128"}],"outputs":{"type":{"response":{"ok":"bool","error":"int128"}}}}, {"name":"withdraw","access":"public","args":[],"outputs":{"type":{"response":{"ok":"bool","error":"int128"}}}}, {"name":"get_ad_check_info","access":"read_only","args":[{"name":"pos","type":"uint128"},{"name":"player","type":"principal"}],"outputs":{"type":{"tuple":[{"name":"balance","type":"uint128"},{"name":"resolve_rsp","type":{"response":{"ok":{"tuple":[{"name":"name","type":{"buffer":{"length":48}}},{"name":"namespace","type":{"buffer":{"length":20}}}]},"error":{"tuple":[{"name":"code","type":"int128"},{"name":"name","type":{"optional":{"tuple":[{"name":"name","type":{"buffer":{"length":48}}},{"name":"namespace","type":{"buffer":{"length":20}}}]}}}]}}}}]}}}, {"name":"get_ad_update_index","access":"read_only","args":[],"outputs":{"type":"uint128"}}, {"name":"get_ads","access":"read_only","args":[{"name":"key_list","type":{"list":{"type":"uint128","length":25}}}],"outputs":{"type":{"list":{"type":{"optional":{"tuple":[{"name":"at","type":"uint128"},{"name":"expiration","type":"uint128"},{"name":"expired_flag","type":"bool"},{"name":"host_deposit","type":"uint128"},{"name":"name","type":{"buffer":{"length":48}}},{"name":"namespace","type":{"buffer":{"length":20}}},{"name":"origin_owner","type":{"optional":"principal"}},{"name":"price","type":"uint128"}]}},"length":25}}}}, {"name":"get_ads_at_page","access":"read_only","args":[{"name":"page","type":"uint128"}],"outputs":{"type":{"list":{"type":{"optional":{"tuple":[{"name":"at","type":"uint128"},{"name":"expiration","type":"uint128"},{"name":"expired_flag","type":"bool"},{"name":"host_deposit","type":"uint128"},{"name":"name","type":{"buffer":{"length":48}}},{"name":"namespace","type":{"buffer":{"length":20}}},{"name":"origin_owner","type":{"optional":"principal"}},{"name":"price","type":"uint128"}]}},"length":25}}}}, {"name":"get_bidder_deposit","access":"read_only","args":[{"name":"player","type":"principal"}],"outputs":{"type":"uint128"}}, {"name":"get_config","access":"read_only","args":[],"outputs":{"type":{"tuple":[{"name":"ad_host_deposit","type":"uint128"},{"name":"ad_max_days","type":"uint128"},{"name":"ad_min_days","type":"uint128"},{"name":"ad_price_list","type":{"list":{"type":"uint128","length":20}}},{"name":"fee","type":"uint128"},{"name":"max_bid_days","type":"uint128"},{"name":"max_price","type":"uint128"},{"name":"min_bid_days","type":"uint128"},{"name":"min_price","type":"uint128"}]}}}, {"name":"get_name_list_price","access":"read_only","args":[{"name":"namespace","type":{"buffer":{"length":20}}},{"name":"name","type":{"buffer":{"length":48}}}],"outputs":{"type":{"optional":"uint128"}}}, {"name":"get_name_summary","access":"read_only","args":[{"name":"namespace","type":{"buffer":{"length":20}}},{"name":"name","type":{"buffer":{"length":48}}}],"outputs":{"type":{"tuple":[{"name":"ad","type":{"optional":{"tuple":[{"name":"at","type":"uint128"},{"name":"expiration","type":"uint128"},{"name":"expired_flag","type":"bool"},{"name":"host_deposit","type":"uint128"},{"name":"name","type":{"buffer":{"length":48}}},{"name":"namespace","type":{"buffer":{"length":20}}},{"name":"origin_owner","type":{"optional":"principal"}},{"name":"price","type":"uint128"}]}}},{"name":"ad_pos","type":"uint128"},{"name":"bid_list","type":{"list":{"type":{"tuple":[{"name":"at","type":"uint128"},{"name":"expiration","type":"uint128"},{"name":"player","type":"principal"},{"name":"price","type":"uint128"}]},"length":12}}},{"name":"price","type":"uint128"}]}}}, {"name":"get_new_bid_list","access":"read_only","args":[],"outputs":{"type":{"tuple":[{"name":"arr","type":{"list":{"type":{"optional":{"tuple":[{"name":"name","type":{"buffer":{"length":48}}},{"name":"namespace","type":{"buffer":{"length":20}}},{"name":"price","type":"uint128"}]}},"length":20}}},{"name":"index","type":"uint128"}]}}}, {"name":"get_new_list_list","access":"read_only","args":[],"outputs":{"type":{"tuple":[{"name":"arr","type":{"list":{"type":{"optional":{"tuple":[{"name":"name","type":{"buffer":{"length":48}}},{"name":"namespace","type":{"buffer":{"length":20}}},{"name":"price","type":"uint128"}]}},"length":20}}},{"name":"index","type":"uint128"}]}}}, {"name":"get_new_trade_list","access":"read_only","args":[],"outputs":{"type":{"tuple":[{"name":"arr","type":{"list":{"type":{"optional":{"tuple":[{"name":"buyer","type":"principal"},{"name":"name","type":{"buffer":{"length":48}}},{"name":"namespace","type":{"buffer":{"length":20}}},{"name":"price","type":"uint128"},{"name":"seller","type":"principal"}]}},"length":20}}},{"name":"index","type":"uint128"}]}}}, {"name":"get_player_bid_data","access":"read_only","args":[{"name":"player","type":"principal"}],"outputs":{"type":{"tuple":[{"name":"bids","type":{"tuple":[{"name":"p","type":"principal"},{"name":"r","type":{"list":{"type":{"tuple":[{"name":"at","type":"uint128"},{"name":"expiration","type":"uint128"},{"name":"name","type":{"buffer":{"length":48}}},{"name":"namespace","type":{"buffer":{"length":20}}},{"name":"price","type":"uint128"}]},"length":25}}}]}},{"name":"deposit","type":"uint128"}]}}}, {"name":"get_summary","access":"read_only","args":[{"name":"player_opt","type":{"optional":"principal"}}],"outputs":{"type":{"tuple":[{"name":"ad_info","type":{"optional":{"tuple":[{"name":"at","type":"uint128"},{"name":"expiration","type":"uint128"},{"name":"expired_flag","type":"bool"},{"name":"host_deposit","type":"uint128"},{"name":"name","type":{"buffer":{"length":48}}},{"name":"namespace","type":{"buffer":{"length":20}}},{"name":"origin_owner","type":{"optional":"principal"}},{"name":"price","type":"uint128"}]}}},{"name":"ad_pos","type":"uint128"},{"name":"balance","type":"uint128"},{"name":"bh","type":"uint128"},{"name":"config","type":{"tuple":[{"name":"ad_host_deposit","type":"uint128"},{"name":"ad_max_days","type":"uint128"},{"name":"ad_min_days","type":"uint128"},{"name":"ad_price_list","type":{"list":{"type":"uint128","length":20}}},{"name":"fee","type":"uint128"},{"name":"max_bid_days","type":"uint128"},{"name":"max_price","type":"uint128"},{"name":"min_bid_days","type":"uint128"},{"name":"min_price","type":"uint128"}]}},{"name":"deposit","type":"uint128"}]}}}, {"name":"loop_p4","access":"read_only","args":[{"name":"i","type":"uint128"},{"name":"ud","type":{"tuple":[{"name":"p","type":"principal"},{"name":"r","type":{"list":{"type":{"tuple":[{"name":"at","type":"uint128"},{"name":"expiration","type":"uint128"},{"name":"name","type":{"buffer":{"length":48}}},{"name":"namespace","type":{"buffer":{"length":20}}},{"name":"price","type":"uint128"}]},"length":25}}}]}}],"outputs":{"type":{"tuple":[{"name":"p","type":"principal"},{"name":"r","type":{"list":{"type":{"tuple":[{"name":"at","type":"uint128"},{"name":"expiration","type":"uint128"},{"name":"name","type":{"buffer":{"length":48}}},{"name":"namespace","type":{"buffer":{"length":20}}},{"name":"price","type":"uint128"}]},"length":25}}}]}}}
