{"address":"SP343J7DNE122AVCSC4HEK4MF871PW470ZSXJ5K66","name":"miamipool-v1","sip9":false,"sip10":false,"contractInterface":{"functions":[{"name":"calculate-fee","access":"private","args":[{"name":"feePrincipalAndPercent","type":{"tuple":[{"name":"percent","type":"uint128"},{"name":"principal","type":"principal"}]}}],"outputs":{"type":{"tuple":[{"name":"amount","type":"uint128"},{"name":"memo","type":{"optional":"none"}},{"name":"to","type":"principal"}]}}},{"name":"calculate-return","access":"private","args":[{"name":"participantId","type":"uint128"}],"outputs":{"type":{"tuple":[{"name":"amount","type":"uint128"},{"name":"memo","type":{"optional":"none"}},{"name":"to","type":"principal"}]}}},{"name":"get-or-create-participant-id","access":"private","args":[{"name":"participant","type":"principal"}],"outputs":{"type":"uint128"}},{"name":"get-round-info","access":"private","args":[{"name":"roundId","type":"uint128"}],"outputs":{"type":{"tuple":[{"name":"round","type":{"tuple":[{"name":"blockHeight","type":"uint128"},{"name":"blocksWon","type":{"list":{"type":"uint128","length":150}}},{"name":"participantIds","type":{"list":{"type":"uint128","length":1024}}},{"name":"totalMiaWon","type":"uint128"},{"name":"totalStx","type":"uint128"}]}},{"name":"roundId","type":"uint128"},{"name":"roundsStatus","type":{"tuple":[{"name":"hasClaimed","type":"bool"},{"name":"hasMined","type":"bool"},{"name":"hasPaidOut","type":"bool"},{"name":"lastBlockToCheck","type":"uint128"},{"name":"nextBlockToCheck","type":"uint128"},{"name":"requiredPayouts","type":"uint128"}]}}]}}},{"name":"is-not-first-element","access":"private","args":[{"name":"roundId","type":"uint128"}],"outputs":{"type":"bool"}},{"name":"is-not-id","access":"private","args":[{"name":"id","type":"uint128"}],"outputs":{"type":"bool"}},{"name":"is-round-expired","access":"private","args":[{"name":"id","type":"uint128"}],"outputs":{"type":"bool"}},{"name":"next-16-values","access":"private","args":[{"name":"participantId","type":"uint128"}],"outputs":{"type":"bool"}},{"name":"payout-fee","access":"private","args":[],"outputs":{"type":{"response":{"ok":"bool","error":"uint128"}}}},{"name":"start-round","access":"private","args":[],"outputs":{"type":{"response":{"ok":"bool","error":"uint128"}}}},{"name":"add-funds","access":"public","args":[{"name":"amount","type":"uint128"}],"outputs":{"type":{"response":{"ok":"bool","error":"uint128"}}}},{"name":"claim-mining-reward","access":"public","args":[{"name":"roundId","type":"uint128"}],"outputs":{"type":{"response":{"ok":"bool","error":"uint128"}}}},{"name":"mine","access":"public","args":[{"name":"roundId","type":"uint128"}],"outputs":{"type":{"response":{"ok":"bool","error":"uint128"}}}},{"name":"payout-mia","access":"public","args":[{"name":"roundId","type":"uint128"}],"outputs":{"type":{"response":{"ok":{"list":{"type":"uint128","length":200}},"error":"uint128"}}}},{"name":"withdraw-funds","access":"public","args":[{"name":"amount","type":"uint128"}],"outputs":{"type":{"response":{"ok":"bool","error":"uint128"}}}},{"name":"get-contribution","access":"read_only","args":[{"name":"id","type":"uint128"},{"name":"round","type":"uint128"}],"outputs":{"type":{"response":{"ok":"uint128","error":"none"}}}},{"name":"get-current-round-id","access":"read_only","args":[],"outputs":{"type":{"response":{"ok":"uint128","error":"none"}}}},{"name":"get-incomplete-rounds","access":"read_only","args":[],"outputs":{"type":{"response":{"ok":{"list":{"type":"uint128","length":100}},"error":"none"}}}},{"name":"get-many-rounds","access":"read_only","args":[{"name":"roundsList","type":{"list":{"type":"uint128","length":26}}}],"outputs":{"type":{"response":{"ok":{"list":{"type":{"tuple":[{"name":"round","type":{"tuple":[{"name":"blockHeight","type":"uint128"},{"name":"blocksWon","type":{"list":{"type":"uint128","length":150}}},{"name":"participantIds","type":{"list":{"type":"uint128","length":1024}}},{"name":"totalMiaWon","type":"uint128"},{"name":"totalStx","type":"uint128"}]}},{"name":"roundId","type":"uint128"},{"name":"roundsStatus","type":{"tuple":[{"name":"hasClaimed","type":"bool"},{"name":"hasMined","type":"bool"},{"name":"hasPaidOut","type":"bool"},{"name":"lastBlockToCheck","type":"uint128"},{"name":"nextBlockToCheck","type":"uint128"},{"name":"requiredPayouts","type":"uint128"}]}}]},"length":26}},"error":"none"}}}},{"name":"get-participant-round-history","access":"read_only","args":[{"name":"id","type":"uint128"}],"outputs":{"type":{"response":{"ok":{"tuple":[{"name":"roundsParticipated","type":{"list":{"type":"uint128","length":512}}}]},"error":"none"}}}},{"name":"get-round","access":"read_only","args":[{"name":"id","type":"uint128"}],"outputs":{"type":{"response":{"ok":{"tuple":[{"name":"blockHeight","type":"uint128"},{"name":"blocksWon","type":{"list":{"type":"uint128","length":150}}},{"name":"participantIds","type":{"list":{"type":"uint128","length":1024}}},{"name":"totalMiaWon","type":"uint128"},{"name":"totalStx","type":"uint128"}]},"error":"uint128"}}}},{"name":"get-round-and-status","access":"read_only","args":[{"name":"id","type":"uint128"}],"outputs":{"type":{"response":{"ok":{"tuple":[{"name":"round","type":{"tuple":[{"name":"blockHeight","type":"uint128"},{"name":"blocksWon","type":{"list":{"type":"uint128","length":150}}},{"name":"participantIds","type":{"list":{"type":"uint128","length":1024}}},{"name":"totalMiaWon","type":"uint128"},{"name":"totalStx","type":"uint128"}]}},{"name":"roundsStatus","type":{"tuple":[{"name":"hasClaimed","type":"bool"},{"name":"hasMined","type":"bool"},{"name":"hasPaidOut","type":"bool"},{"name":"lastBlockToCheck","type":"uint128"},{"name":"nextBlockToCheck","type":"uint128"},{"name":"requiredPayouts","type":"uint128"}]}}]},"error":"none"}}}},{"name":"get-round-status","access":"read_only","args":[{"name":"id","type":"uint128"}],"outputs":{"type":{"response":{"ok":{"tuple":[{"name":"hasClaimed","type":"bool"},{"name":"hasMined","type":"bool"},{"name":"hasPaidOut","type":"bool"},{"name":"lastBlockToCheck","type":"uint128"},{"name":"nextBlockToCheck","type":"uint128"},{"name":"requiredPayouts","type":"uint128"}]},"error":"uint128"}}}},{"name":"id-to-principal","access":"read_only","args":[{"name":"id","type":"uint128"}],"outputs":{"type":{"response":{"ok":"principal","error":"none"}}}},{"name":"principal-to-id","access":"read_only","args":[{"name":"participant","type":"principal"}],"outputs":{"type":{"response":{"ok":"uint128","error":"none"}}}}],"variables":[{"name":"ERR_ALL_PARTICIPANTS_PAID","type":"uint128","access":"constant"},{"name":"ERR_ALL_POSSIBLE_BLOCKS_CHECKED","type":"uint128","access":"constant"},{"name":"ERR_ALREADY_MINED","type":"uint128","access":"constant"},{"name":"ERR_BLOCK_ALREADY_CHECKED","type":"uint128","access":"constant"},{"name":"ERR_CANNOT_MINE_IF_ROUND_ACTIVE","type":"uint128","access":"constant"},{"name":"ERR_CANNOT_MODIFY_FUNDS_OF_EXPIRED_ROUND","type":"uint128","access":"constant"},{"name":"ERR_CONTRIBUTION_TOO_LOW","type":"uint128","access":"constant"},{"name":"ERR_ID_NOT_FOUND","type":"uint128","access":"constant"},{"name":"ERR_ID_NOT_IN_ROUND","type":"uint128","access":"constant"},{"name":"ERR_INSUFFICIENT_BALANCE","type":"uint128","access":"constant"},{"name":"ERR_INVALID_AMOUNT","type":"uint128","access":"constant"},{"name":"ERR_MINE_TOTAL_NOT_BALANCE_TOTAL","type":"uint128","access":"constant"},{"name":"ERR_MINING_NOT_STARTED","type":"uint128","access":"constant"},{"name":"ERR_MUST_CHECK_ALL_MINED_BLOCKS","type":"uint128","access":"constant"},{"name":"ERR_MUST_REDEEM_ALL_WON_BLOCKS","type":"uint128","access":"constant"},{"name":"ERR_ROUND_NOT_FOUND","type":"uint128","access":"constant"},{"name":"ERR_WAIT_100_BLOCKS_BEFORE_CHECKING","type":"uint128","access":"constant"},{"name":"MIA_CONTRACT_ADDRESS","type":"principal","access":"constant"},{"name":"minContribution","type":"uint128","access":"constant"},{"name":"roundLen","type":"uint128","access":"constant"},{"name":"tokenRewardMaturity","type":"uint128","access":"constant"},{"name":"feePrincipals","type":{"list":{"type":{"tuple":[{"name":"percent","type":"uint128"},{"name":"principal","type":"principal"}]},"length":5}},"access":"variable"},{"name":"firstElement","type":"uint128","access":"variable"},{"name":"idToRemove","type":"uint128","access":"variable"},{"name":"incompleteRounds","type":{"list":{"type":"uint128","length":100}},"access":"variable"},{"name":"lastKnownRoundId","type":"uint128","access":"variable"},{"name":"participantIdTip","type":"uint128","access":"variable"},{"name":"payoutNum","type":"uint128","access":"variable"},{"name":"roundIdToCheck","type":"uint128","access":"variable"},{"name":"sendManyList","type":{"list":{"type":"uint128","length":200}},"access":"variable"},{"name":"totalCount","type":"uint128","access":"variable"}],"maps":[{"name":"Contributions","key":{"tuple":[{"name":"id","type":"uint128"},{"name":"round","type":"uint128"}]},"value":{"tuple":[{"name":"amount","type":"uint128"}]}},{"name":"IdToPrincipal","key":{"tuple":[{"name":"id","type":"uint128"}]},"value":{"tuple":[{"name":"participant","type":"principal"}]}},{"name":"ParticipantsRoundHistory","key":{"tuple":[{"name":"id","type":"uint128"}]},"value":{"tuple":[{"name":"roundsParticipated","type":{"list":{"type":"uint128","length":512}}}]}},{"name":"PrincipalToId","key":{"tuple":[{"name":"participant","type":"principal"}]},"value":{"tuple":[{"name":"id","type":"uint128"}]}},{"name":"Rounds","key":{"tuple":[{"name":"id","type":"uint128"}]},"value":{"tuple":[{"name":"blockHeight","type":"uint128"},{"name":"blocksWon","type":{"list":{"type":"uint128","length":150}}},{"name":"participantIds","type":{"list":{"type":"uint128","length":1024}}},{"name":"totalMiaWon","type":"uint128"},{"name":"totalStx","type":"uint128"}]}},{"name":"RoundsStatus","key":{"tuple":[{"name":"id","type":"uint128"}]},"value":{"tuple":[{"name":"hasClaimed","type":"bool"},{"name":"hasMined","type":"bool"},{"name":"hasPaidOut","type":"bool"},{"name":"lastBlockToCheck","type":"uint128"},{"name":"nextBlockToCheck","type":"uint128"},{"name":"requiredPayouts","type":"uint128"}]}}],"fungible_tokens":[],"non_fungible_tokens":[]}}