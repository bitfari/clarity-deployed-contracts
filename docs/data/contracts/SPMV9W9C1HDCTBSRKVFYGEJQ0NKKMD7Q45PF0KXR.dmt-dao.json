{"address":"SPMV9W9C1HDCTBSRKVFYGEJQ0NKKMD7Q45PF0KXR","name":"dmt-dao","sip9":false,"sip10":true,"contractInterface":{"functions":[{"name":"add-and-shift-uint-le","access":"private","args":[{"name":"idx","type":"uint128"},{"name":"input","type":{"tuple":[{"name":"acc","type":"uint128"},{"name":"data","type":{"buffer":{"length":16}}}]}}],"outputs":{"type":{"tuple":[{"name":"acc","type":"uint128"},{"name":"data","type":{"buffer":{"length":16}}}]}}},{"name":"buff-to-u8","access":"private","args":[{"name":"byte","type":{"buffer":{"length":1}}}],"outputs":{"type":"uint128"}},{"name":"buff-to-uint-le","access":"private","args":[{"name":"word","type":{"buffer":{"length":16}}}],"outputs":{"type":"uint128"}},{"name":"fill-uint-list-closure","access":"private","args":[{"name":"idx","type":"uint128"},{"name":"x","type":"bool"}],"outputs":{"type":"bool"}},{"name":"get-block-winner-closure","access":"private","args":[{"name":"idx","type":"uint128"},{"name":"data","type":{"tuple":[{"name":"sample","type":"uint128"},{"name":"stacks-block-height","type":"uint128"},{"name":"sum","type":"uint128"},{"name":"winner","type":{"optional":{"tuple":[{"name":"miner-id","type":"uint128"},{"name":"ustx","type":"uint128"}]}}}]}}],"outputs":{"type":{"tuple":[{"name":"sample","type":"uint128"},{"name":"stacks-block-height","type":"uint128"},{"name":"sum","type":"uint128"},{"name":"winner","type":{"optional":{"tuple":[{"name":"miner-id","type":"uint128"},{"name":"ustx","type":"uint128"}]}}}]}}},{"name":"get-mined-block-or-default","access":"private","args":[{"name":"stacks-block-height","type":"uint128"}],"outputs":{"type":{"tuple":[{"name":"claimed","type":"bool"},{"name":"commitment-ustx","type":"uint128"},{"name":"miners-count","type":"uint128"},{"name":"winner-id","type":"uint128"}]}}},{"name":"get-or-create-miner-id","access":"private","args":[{"name":"miner","type":"principal"}],"outputs":{"type":"uint128"}},{"name":"get-uint-list","access":"private","args":[{"name":"size","type":"uint128"}],"outputs":{"type":{"list":{"type":"uint128","length":128}}}},{"name":"lower-16-le","access":"private","args":[{"name":"input","type":{"buffer":{"length":32}}}],"outputs":{"type":{"buffer":{"length":16}}}},{"name":"lower-16-le-closure","access":"private","args":[{"name":"idx","type":"uint128"},{"name":"input","type":{"tuple":[{"name":"acc","type":{"buffer":{"length":16}}},{"name":"data","type":{"buffer":{"length":32}}}]}}],"outputs":{"type":{"tuple":[{"name":"acc","type":{"buffer":{"length":16}}},{"name":"data","type":{"buffer":{"length":32}}}]}}},{"name":"mine-tokens-at-block","access":"private","args":[{"name":"stacks-block-height","type":"uint128"},{"name":"miner-id","type":"uint128"},{"name":"amount-ustx","type":"uint128"}],"outputs":{"type":{"response":{"ok":"bool","error":"uint128"}}}},{"name":"mint-coinbase","access":"private","args":[{"name":"recipient","type":"principal"},{"name":"stacks-block-ht","type":"uint128"}],"outputs":{"type":{"response":{"ok":"bool","error":"uint128"}}}},{"name":"set-tokens-claimed","access":"private","args":[{"name":"claimed-stacks-block-height","type":"uint128"}],"outputs":{"type":{"response":{"ok":"bool","error":"uint128"}}}},{"name":"set-tokens-mined","access":"private","args":[{"name":"miner","type":"principal"},{"name":"miner-id","type":"uint128"},{"name":"stacks-block-height","type":"uint128"},{"name":"commit-ustx","type":"uint128"}],"outputs":{"type":{"response":{"ok":"bool","error":"uint128"}}}},{"name":"claim-token-reward","access":"public","args":[{"name":"mined-stacks-block-ht","type":"uint128"}],"outputs":{"type":{"response":{"ok":"bool","error":"uint128"}}}},{"name":"mine-tokens","access":"public","args":[{"name":"amount-ustx","type":"uint128"},{"name":"memo","type":{"optional":{"string-ascii":{"length":34}}}}],"outputs":{"type":{"response":{"ok":"bool","error":"uint128"}}}},{"name":"transfer","access":"public","args":[{"name":"amount","type":"uint128"},{"name":"from","type":"principal"},{"name":"to","type":"principal"},{"name":"memo","type":{"optional":{"buffer":{"length":34}}}}],"outputs":{"type":{"response":{"ok":"bool","error":"uint128"}}}},{"name":"can-claim-tokens","access":"read_only","args":[{"name":"claimer","type":"principal"},{"name":"claimer-stacks-block-height","type":"uint128"},{"name":"random-sample","type":"uint128"},{"name":"current-stacks-block","type":"uint128"}],"outputs":{"type":{"response":{"ok":"bool","error":"uint128"}}}},{"name":"can-mine-tokens","access":"read_only","args":[{"name":"miner","type":"principal"},{"name":"miner-id","type":"uint128"},{"name":"stacks-block-height","type":"uint128"},{"name":"amount-ustx","type":"uint128"}],"outputs":{"type":{"response":{"ok":"bool","error":"uint128"}}}},{"name":"get-balance","access":"read_only","args":[{"name":"user","type":"principal"}],"outputs":{"type":{"response":{"ok":"uint128","error":"none"}}}},{"name":"get-block-winner","access":"read_only","args":[{"name":"stacks-block-height","type":"uint128"},{"name":"random-sample","type":"uint128"}],"outputs":{"type":{"optional":{"tuple":[{"name":"miner-id","type":"uint128"},{"name":"ustx","type":"uint128"}]}}}},{"name":"get-blocks-miners","access":"read_only","args":[{"name":"stacks-block-height","type":"uint128"},{"name":"idx","type":"uint128"}],"outputs":{"type":{"tuple":[{"name":"miner-id","type":"uint128"},{"name":"ustx","type":"uint128"}]}}},{"name":"get-decimals","access":"read_only","args":[],"outputs":{"type":{"response":{"ok":"uint128","error":"none"}}}},{"name":"get-mined-blocks","access":"read_only","args":[{"name":"stacks-block-height","type":"uint128"}],"outputs":{"type":{"tuple":[{"name":"claimed","type":"bool"},{"name":"commitment-ustx","type":"uint128"},{"name":"miners-count","type":"uint128"},{"name":"winner-id","type":"uint128"}]}}},{"name":"get-miner-addr","access":"read_only","args":[{"name":"miner-id","type":"uint128"}],"outputs":{"type":{"tuple":[{"name":"miner-addr","type":"principal"}]}}},{"name":"get-miner-id","access":"read_only","args":[{"name":"miner","type":"principal"}],"outputs":{"type":{"optional":"uint128"}}},{"name":"get-name","access":"read_only","args":[],"outputs":{"type":{"response":{"ok":{"string-ascii":{"length":15}},"error":"none"}}}},{"name":"get-next-block-height","access":"read_only","args":[],"outputs":{"type":"uint128"}},{"name":"get-random-uint-at-block","access":"read_only","args":[{"name":"stacks-block","type":"uint128"}],"outputs":{"type":{"optional":"uint128"}}},{"name":"get-symbol","access":"read_only","args":[],"outputs":{"type":{"response":{"ok":{"string-ascii":{"length":3}},"error":"none"}}}},{"name":"get-token-uri","access":"read_only","args":[],"outputs":{"type":{"response":{"ok":{"optional":{"string-utf8":{"length":256}}},"error":"none"}}}},{"name":"get-total-supply","access":"read_only","args":[],"outputs":{"type":{"response":{"ok":"uint128","error":"none"}}}},{"name":"has-mined","access":"read_only","args":[{"name":"miner-id","type":"uint128"},{"name":"stacks-block-height","type":"uint128"}],"outputs":{"type":"bool"}}],"variables":[{"name":"ACTIVATION-HEIGHT","type":"uint128","access":"constant"},{"name":"BUFF-TO-BYTE","type":{"list":{"type":{"buffer":{"length":1}},"length":256}},"access":"constant"},{"name":"ERR-ALREADY-CLAIMED","type":"uint128","access":"constant"},{"name":"ERR-ALREADY-MINED","type":"uint128","access":"constant"},{"name":"ERR-CANNOT-MINE","type":"uint128","access":"constant"},{"name":"ERR-CANNOT-STACK","type":"uint128","access":"constant"},{"name":"ERR-IMMATURE-TOKEN-REWARD","type":"uint128","access":"constant"},{"name":"ERR-INSUFFICIENT-BALANCE","type":"uint128","access":"constant"},{"name":"ERR-MINER-ALREADY-REGISTERED","type":"uint128","access":"constant"},{"name":"ERR-MINER-ID-NOT-FOUND","type":"uint128","access":"constant"},{"name":"ERR-MINING-ACTIVATION-THRESHOLD-REACHED","type":"uint128","access":"constant"},{"name":"ERR-NO-SUCH-MINER","type":"uint128","access":"constant"},{"name":"ERR-NO-WINNER","type":"uint128","access":"constant"},{"name":"ERR-NOTHING-TO-REDEEM","type":"uint128","access":"constant"},{"name":"ERR-ROUND-FULL","type":"uint128","access":"constant"},{"name":"ERR-STACKING-NOT-AVAILABLE","type":"uint128","access":"constant"},{"name":"ERR-TOO-MANY-MINERS","type":"uint128","access":"constant"},{"name":"ERR-TOO-SMALL-COMMITMENT","type":"uint128","access":"constant"},{"name":"ERR-UNAUTHORIZED","type":"uint128","access":"constant"},{"name":"LONG-UINT-LIST","type":{"list":{"type":"uint128","length":128}},"access":"constant"},{"name":"MAX-MINERS-COUNT","type":"uint128","access":"constant"},{"name":"RTX_CUSTODIED_WALLET","type":"principal","access":"constant"},{"name":"TOKEN-REWARD-MATURITY","type":"uint128","access":"constant"},{"name":"block-reward","type":"uint128","access":"variable"},{"name":"dmt-wallet","type":"principal","access":"variable"},{"name":"latest-cycle-height","type":"uint128","access":"variable"},{"name":"miners-nonce","type":"uint128","access":"variable"},{"name":"token-reward-maturity","type":"uint128","access":"variable"},{"name":"token-uri","type":{"optional":{"string-utf8":{"length":256}}},"access":"variable"}],"maps":[{"name":"UintLists","key":"uint128","value":{"list":{"type":"uint128","length":128}}},{"name":"blocks-miners","key":{"tuple":[{"name":"idx","type":"uint128"},{"name":"stacks-block-height","type":"uint128"}]},"value":{"tuple":[{"name":"miner-id","type":"uint128"},{"name":"ustx","type":"uint128"}]}},{"name":"mined-blocks","key":{"tuple":[{"name":"stacks-block-height","type":"uint128"}]},"value":{"tuple":[{"name":"claimed","type":"bool"},{"name":"commitment-ustx","type":"uint128"},{"name":"miners-count","type":"uint128"},{"name":"winner-id","type":"uint128"}]}},{"name":"miners","key":{"tuple":[{"name":"miner","type":"principal"}]},"value":{"tuple":[{"name":"miner-id","type":"uint128"}]}},{"name":"miners-block-commitment","key":{"tuple":[{"name":"miner-id","type":"uint128"},{"name":"stacks-block-height","type":"uint128"}]},"value":{"tuple":[{"name":"committed","type":"bool"}]}},{"name":"miners-ids","key":{"tuple":[{"name":"miner-id","type":"uint128"}]},"value":{"tuple":[{"name":"miner-addr","type":"principal"}]}}],"fungible_tokens":[{"name":"resonancetoken"}],"non_fungible_tokens":[]}}